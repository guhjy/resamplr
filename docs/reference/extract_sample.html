<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract samples from objects — extract_sample • lazysample</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">lazysample</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Intro_to_lazy_sampling.html">Lazy sampling</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract samples from objects</h1>
    </div>

    
    <p>The generic function <code>extract_sample</code> is the function that
extracts the elements specified by <code>idx</code> from the the data in a
<code>lazy_sample</code> object.</p>
    

    <pre class="usage"><span class='fu'>extract_sample</span>(<span class='no'>x</span>, <span class='no'>idx</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>extract_sample</span>(<span class='no'>x</span>, <span class='no'>idx</span>, <span class='kw'>margin</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for matrix</span>
<span class='fu'>extract_sample</span>(<span class='no'>x</span>, <span class='no'>idx</span>, <span class='kw'>rows</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>extract_sample</span>(<span class='no'>x</span>, <span class='no'>idx</span>, <span class='kw'>rows</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for quosure</span>
<span class='fu'>extract_sample</span>(<span class='no'>x</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object</p></td>
    </tr>
    <tr>
      <th>idx</th>
      <td><p>An integer or character vector representing index values</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments used by methods.</p></td>
    </tr>
    <tr>
      <th>margin</th>
      <td><p>An integerish scalar. The margin (dimension) to which <code>idx</code> refer. For example, <code>extract(x, idx, 1)</code> is like <code>x[idx, ]</code>, <code>extract(x, idx, 2)</code> is like <code>x[ , idx, ...]</code>, and so on.</p></td>
    </tr>
    <tr>
      <th>rows</th>
      <td><p>A logical scalar. If <code>TRUE</code>, then extract rows, else extract columns.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>A logical scalar. If <code>TRUE</code>, then coerce to the lowest possible dimension. See <code>drop</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>It is largely for internal use in order to abstract the details for
extracting elements from data frames, vectors, matrices, arrays, etc.
However, it is exported so that the user can add methods for new objects
or change the default behavior. The <code>extractor</code> field in <code>lazy_sample</code>
objects and the <code>extractor</code> argument in many functions will override
this function.</p>
    
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    <ul>
<li><p><code>default</code>: The default method is equivalent to <code>x[idx]</code> when there are no dimensions in <code>x</code>. When there are dimensions in <code>x</code>, then <code>idx</code> refers to the <code>margin</code> dimension.</p></li>
<li><p><code>matrix</code>: The default method for matrices extracts rows by default and does not drop dimensions.</p></li>
<li><p><code>data.frame</code>: The data frame method extracts rows by default, and does not drop dimensions.</p></li>
<li><p><code>quosure</code>: For quosures, the method will evaluate the expression and then call the next method on the result.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>require</span>(<span class='st'>"tibble"</span>)
<span class='fu'>require</span>(<span class='st'>"rlang"</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: rlang</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: 'rlang'</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from 'package:lazysample':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    is_named</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from 'package:tibble':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    has_name</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from 'package:purrr':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    %@%, %||%, as_function, flatten, flatten_chr, flatten_dbl,</span>
#&gt; <span class='message'>    flatten_int, flatten_lgl, invoke, is_atomic, is_bare_atomic,</span>
#&gt; <span class='message'>    is_bare_character, is_bare_double, is_bare_integer, is_bare_list,</span>
#&gt; <span class='message'>    is_bare_logical, is_bare_numeric, is_bare_vector, is_character,</span>
#&gt; <span class='message'>    is_double, is_empty, is_formula, is_function, is_integer, is_list,</span>
#&gt; <span class='message'>    is_logical, is_null, is_scalar_atomic, is_scalar_character,</span>
#&gt; <span class='message'>    is_scalar_double, is_scalar_integer, is_scalar_list,</span>
#&gt; <span class='message'>    is_scalar_logical, is_scalar_vector, is_vector, list_along,</span>
#&gt; <span class='message'>    prepend, rep_along, set_names, splice</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from 'package:testthat':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    is_false, is_null, is_true</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from 'package:devtools':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    ns_env, pkg_env</span></div><div class='input'>
<span class='co'># Extract indexes from vectors</span>
<span class='fu'>extract_sample</span>(<span class='fl'>1</span>:<span class='fl'>100</span>, <span class='fl'>1</span>:<span class='fl'>10</span>)</div><div class='output co'>#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</div><div class='input'>
<span class='co'># For arrays: by default, extract from the first dimension</span>
<span class='fu'>extract_sample</span>(<span class='fu'>array</span>(<span class='fu'>seq_len</span>(<span class='fl'>60</span>), <span class='kw'>dim</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5</span>, <span class='fl'>4</span>, <span class='fl'>3</span>)), <span class='fl'>1</span>:<span class='fl'>3</span>)</div><div class='output co'>#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1    6   11   16
#&gt; [2,]    2    7   12   17
#&gt; [3,]    3    8   13   18
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]   21   26   31   36
#&gt; [2,]   22   27   32   37
#&gt; [3,]   23   28   33   38
#&gt; 
#&gt; , , 3
#&gt; 
#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]   41   46   51   56
#&gt; [2,]   42   47   52   57
#&gt; [3,]   43   48   53   58
#&gt; </div><div class='input'>
<span class='co'># For matrices: by default, extract rows</span>
<span class='fu'>extract_sample</span>(<span class='fu'>array</span>(<span class='fu'>seq_len</span>(<span class='fl'>20</span>), <span class='kw'>dim</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>10</span>, <span class='fl'>2</span>)), <span class='fl'>1</span>:<span class='fl'>5</span>)</div><div class='output co'>#&gt;      [,1] [,2]
#&gt; [1,]    1   11
#&gt; [2,]    2   12
#&gt; [3,]    3   13
#&gt; [4,]    4   14
#&gt; [5,]    5   15</div><div class='input'>
<span class='co'># For data frames: by default, extract rows</span>
<span class='fu'>extract_sample</span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/tibble/topics/tibble'>tibble</a></span>(<span class='kw'>foo</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>, <span class='kw'>bar</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>), <span class='fl'>1</span>:<span class='fl'>5</span>)</div><div class='output co'>#&gt; # A tibble: 5 x 2
#&gt;     foo   bar
#&gt;   &lt;int&gt; &lt;int&gt;
#&gt; 1     1     1
#&gt; 2     2     2
#&gt; 3     3     3
#&gt; 4     4     4
#&gt; 5     5     5</div><div class='input'>
<span class='co'># For quosures: by default, evaluate first</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/tibble/topics/tibble'>tibble</a></span>(<span class='kw'>foo</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>, <span class='kw'>bar</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>)
<span class='no'>q</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/rlang/topics/quosure'>quo</a></span>(<span class='no'>x</span>)
<span class='no'>q</span></div><div class='output co'>#&gt; &lt;quosure: local&gt;
#&gt; ~x</div><div class='input'><span class='fu'>extract_sample</span>(<span class='no'>q</span>, <span class='fl'>1</span>:<span class='fl'>5</span>)</div><div class='output co'>#&gt; # A tibble: 5 x 2
#&gt;     foo   bar
#&gt;   &lt;int&gt; &lt;int&gt;
#&gt; 1     1     1
#&gt; 2     2     2
#&gt; 3     3     3
#&gt; 4     4     4
#&gt; 5     5     5</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#methods-by-class-">Methods (by class)</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jeffrey Arnold.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
